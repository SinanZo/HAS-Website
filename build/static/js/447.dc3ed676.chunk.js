"use strict";(self.webpackChunkh=self.webpackChunkh||[]).push([[447],{8447:(e,s,t)=>{t.r(s),t.d(s,{default:()=>i});var a=t(9443),l=t(3969),r=t(5654),n=t(9951),o=t(9151),c=t(7253);const i=()=>{const{t:e}=(0,n.Bd)(),s=(0,r.zy)(),t=(0,r.Zp)(),[i,d]=(0,l.useState)(""),[u,h]=(0,l.useState)(""),[m,p]=(0,l.useState)(""),[x,g]=(0,l.useState)(""),[j,N]=(0,l.useState)(""),[f,y]=(0,l.useState)(1),[v,C]=(0,l.useState)([]),[S,w]=(0,l.useState)({});(0,l.useEffect)(()=>{const e=new URLSearchParams(s.search);d(e.get("query")||""),h(e.get("category")||""),p(e.get("manufacturer")||""),g(e.get("color")||""),N(e.get("size")||"")},[s.search]);const b=()=>{const e=new URLSearchParams;i.trim()&&e.append("query",i.trim()),u&&e.append("category",u),m&&e.append("manufacturer",m),t("/products?".concat(e.toString()))};(0,l.useEffect)(()=>{let e=o.A.filter(e=>{const s=e.name.toLowerCase().includes(i.toLowerCase()),t=!u||e.category===u,a=!m||e.distributor===m,l=!x||e.colors&&e.colors.includes(x),r=!j||e.sizes&&e.sizes.includes(j);return s&&t&&a&&l&&r});C(e),y(1)},[i,u,m,x,j]);const k=(0,l.useRef)(null);(0,l.useEffect)(()=>{const e=k.current;if(!e)return;const s=new IntersectionObserver(e=>{e[0].isIntersecting&&9*f<v.length&&y(e=>e+1)},{rootMargin:"200px"});return s.observe(e),()=>{s.unobserve(e)}},[v,f,9]);const I=v.slice(0,9*f),[B,A]=(0,l.useState)(null),[M,P]=(0,l.useState)(0),[z,O]=(0,l.useState)(!1),[L,E]=(0,l.useState)(!1),[R,T]=(0,l.useState)({x:0,y:0}),[U,F]=(0,l.useState)({x:0,y:0}),[X,q]=(0,l.useState)(null),D=()=>{A(null),P(0),O(!1),F({x:0,y:0})},V=B?B.gallery&&B.gallery.length>0?B.gallery:[B.image]:[],Z=()=>{P(e=>(e+1)%V.length),F({x:0,y:0})},G=()=>{P(e=>0===e?V.length-1:e-1),F({x:0,y:0})},W=()=>{E(!1)};return(0,c.jsxs)("div",{className:"productsContainer",children:[(0,c.jsx)("h1",{className:"sectionTitle",children:e("products.title","Explore Our Products")}),(0,c.jsx)("p",{className:"sectionSubtitle",children:e("products.description","Browse through our wide range of high-quality safety and industrial products.")}),(0,c.jsxs)("div",{className:"filterBar",children:[(0,c.jsxs)("div",{className:"filterGroup",children:[(0,c.jsx)("input",{type:"text",placeholder:e("products.searchPlaceholder","Search Products..."),value:i,onChange:e=>d(e.target.value),onKeyDown:e=>"Enter"===e.key&&b(),className:"searchInput"}),(0,c.jsxs)("select",{value:u,onChange:e=>h(e.target.value),className:"filterSelect",children:[(0,c.jsx)("option",{value:"",children:e("products.allCategories","All Categories")}),Array.from(new Set(o.A.map(e=>e.category))).map((e,s)=>(0,c.jsx)("option",{value:e,children:e},s))]}),(0,c.jsxs)("select",{value:m,onChange:e=>p(e.target.value),className:"filterSelect",children:[(0,c.jsx)("option",{value:"",children:e("products.allManufacturers","All Manufacturers")}),Array.from(new Set(o.A.map(e=>e.distributor))).map((e,s)=>(0,c.jsx)("option",{value:e,children:e},s))]}),(0,c.jsx)("button",{onClick:()=>{d(""),h(""),p(""),g(""),N(""),t("/products")},className:"clearButton",children:e("products.clearFilters","Clear Filters")})]}),(0,c.jsxs)("div",{className:"resultsCount",children:[v.length," ",e("products.found","products found")]}),(0,c.jsx)("button",{onClick:b,className:"searchButton",children:e("products.searchButton","Search")})]}),(0,c.jsx)("div",{className:"productGrid",children:I.length>0?I.map(s=>{const t=(e=>{const s=S[e.id]||"";if(s&&e.colorVariants&&e.colorVariants.length>0){const t=e.colorVariants.find(e=>e.name===s);if(t&&t.gallery&&t.gallery.length>0)return t.gallery[0]}return e.image})(s);return(0,c.jsxs)("div",{className:"productCard",onClick:()=>(e=>{A(e),P(0),O(!1),F({x:0,y:0})})(s),children:[(0,c.jsx)("div",{className:"imageWrapper",children:(0,c.jsx)("img",{src:t,alt:s.name,className:"productImage"})}),(0,c.jsxs)("div",{className:"productInfo",children:[(0,c.jsx)("h3",{className:"productName",children:s.name}),s.brief&&(0,c.jsx)("p",{className:"productBrief",children:s.brief}),s.colors&&s.colors.length>0&&(0,c.jsx)("div",{className:"colorSwatchesPreview",children:s.colors.map((e,t)=>(0,c.jsx)("span",{className:"colorCirclePreview ".concat((S[s.id]||"")===e?"selected":""),style:{backgroundColor:e.toLowerCase()},onClick:t=>((e,s,t)=>{e.stopPropagation(),w(e=>(0,a.A)((0,a.A)({},e),{},{[s.id]:t}))})(t,s,e),title:e},t))}),(0,c.jsx)("button",{className:"orderButton",onClick:e=>{e.stopPropagation(),window.open("https://wa.me/962795428029?text=I'm%20interested%20in%20".concat(encodeURIComponent(s.name)),"_blank")},children:e("products.orderNow","Order Now")})]})]},s.id)}):(0,c.jsx)("p",{className:"noProductsMessage",children:e("products.noProductsFound","No products found")})}),(0,c.jsx)("div",{ref:k,style:{height:"1px"}}),B&&(0,c.jsx)("div",{className:"modalOverlay",onClick:D,children:(0,c.jsxs)("div",{className:"modalContent",onClick:e=>e.stopPropagation(),children:[(0,c.jsx)("button",{className:"closeModalButton",onClick:D,children:"\xd7"}),(0,c.jsxs)("div",{className:"galleryWrapperModal",children:[(0,c.jsx)("div",{className:"galleryImageContainer",onTouchStart:e=>{z||q(e.touches[0].clientX)},onTouchEnd:e=>{if(z||null===X)return;const s=e.changedTouches[0].clientX-X;s>50?G():s<-50&&Z(),q(null)},onMouseDown:e=>{z&&(E(!0),T({x:e.clientX-U.x,y:e.clientY-U.y}))},onMouseMove:e=>{if(!z||!L)return;const s=e.clientX-R.x,t=e.clientY-R.y;F({x:s,y:t})},onMouseUp:W,onMouseLeave:W,children:(0,c.jsx)("img",{src:V[M],alt:B.name,className:"detailImage ".concat(z?"zoomed":""),style:{transform:z?"scale(1.5) translate(".concat(U.x,"px, ").concat(U.y,"px)"):"scale(1) translate(0, 0)"}})}),(0,c.jsxs)("div",{className:"galleryNav",children:[(0,c.jsx)("button",{onClick:()=>{O(e=>!e),z&&F({x:0,y:0})},className:"galleryButton",children:z?"Zoom Out":"Zoom In"}),V.length>1&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("button",{onClick:G,className:"galleryButton",children:"\u2039"}),(0,c.jsxs)("span",{className:"galleryCount",children:[M+1," / ",V.length]}),(0,c.jsx)("button",{onClick:Z,className:"galleryButton",children:"\u203a"})]})]})]}),(0,c.jsxs)("div",{className:"detailInfo",children:[(0,c.jsx)("h2",{className:"detailTitleModal",children:B.name}),B.brief&&(0,c.jsx)("p",{className:"detailBrief",children:B.brief}),B.description&&(0,c.jsx)("p",{className:"detailDescription",children:B.description}),B.sizes&&B.sizes.length>0&&(0,c.jsxs)("p",{className:"detailSizes",children:[(0,c.jsx)("strong",{children:"Available Sizes:"})," ",B.sizes.join(", ")]}),B.colors&&B.colors.length>0&&(0,c.jsxs)("div",{className:"detailColors",children:[(0,c.jsx)("strong",{children:"Colors:"}),(0,c.jsx)("div",{className:"colorSwatches",children:B.colors.map(e=>(0,c.jsx)("div",{className:"colorSwatch",style:{backgroundColor:e.toLowerCase()},title:e},e))})]}),B.additionalInfo&&Object.keys(B.additionalInfo).length>0&&(0,c.jsxs)("div",{className:"detailAdditionalInfo",children:[(0,c.jsx)("h3",{children:"Additional Information"}),(0,c.jsx)("table",{children:(0,c.jsx)("tbody",{children:Object.entries(B.additionalInfo).map(e=>{let[s,t]=e;return(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{children:s}),(0,c.jsx)("td",{children:t})]},s)})})})]}),(0,c.jsx)("button",{className:"orderButton",onClick:()=>window.open("https://wa.me/962795428029?text=I'm%20interested%20in%20".concat(encodeURIComponent(B.name)),"_blank"),children:e("products.orderNow","Order Now")})]})]})})]})}}}]);
//# sourceMappingURL=447.dc3ed676.chunk.js.map